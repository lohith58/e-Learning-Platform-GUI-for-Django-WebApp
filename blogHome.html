{% extends 'base.html' %}

{% block title %} BlogHome {% endblock title %}

   {% block js %}
      <script>
      let previews=document.getElementsByClassName('preview');
      Array.from(previews).forEach((element))=>{
          element.innerHTML=element.innerText;
      })
     </script>
    {% endblock js %}

{% block body %}
  <div class="container font1">
    <h2>Coding Articles by iCoder</h2>
    {% for post in allPosts  %}
    <div class="card mb-3" style="max-width: 1000px;">
      <div class="row no-gutters">
        <div class="col-md-4">
          <img src="/media/{{post.thumbnail}}" alt="Blogimage" width="200" height="250">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <strong class="d-inline-block mb-2 text-primary">Article  by {{post.author}}</strong>
            <h5 class="card-title"><a class="text-dark" href="/blog/{{post.slug}}">{{post.title}} </a></h5>
            <div class="mb-1 text-muted">{{post.timeStamp}}</div>
            <p class="card-text"><div class="preview">
             {{post.content|safe| truncatechars:400}}</div></p>
            <p class="card-text"><a href="/blog/{{post.slug}}" role="button">Continue reading</a></p>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
</div>
 {% endblock %}
